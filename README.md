# å¹´ä¼šæŠ½å¥–ç³»ç»Ÿ ğŸ‰

<div align="center">

ä¸€ä¸ªåŠŸèƒ½å®Œæ•´ã€è§†è§‰ç‚«é…·çš„å¹´ä¼šæŠ½å¥–ç³»ç»Ÿï¼Œé‡‡ç”¨èµ›åšæœ‹å…‹é£æ ¼è®¾è®¡ï¼Œæ”¯æŒç§æœ‰åŒ–éƒ¨ç½²ã€‚

[![Node.js Version](https://img.shields.io/badge/node-%3E%3D22.0.0-brightgreen.svg)](https://nodejs.org/)
[![TypeScript](https://img.shields.io/badge/TypeScript-5.9-blue.svg)](https://www.typescriptlang.org/)
[![React](https://img.shields.io/badge/React-19-61dafb.svg)](https://react.dev/)
[![License](https://img.shields.io/badge/license-MIT-green.svg)](./LICENSE)

[åŠŸèƒ½ç‰¹æ€§](#åŠŸèƒ½ç‰¹æ€§) â€¢ [æŠ€æœ¯æ ˆ](#æŠ€æœ¯æ ˆ) â€¢ [å¿«é€Ÿå¼€å§‹](#å¿«é€Ÿå¼€å§‹) â€¢ [éƒ¨ç½²æŒ‡å—](#éƒ¨ç½²æŒ‡å—) â€¢ [æ–‡æ¡£](#æ–‡æ¡£)

</div>

---

## ğŸ“– é¡¹ç›®ä»‹ç»

å¹´ä¼šæŠ½å¥–ç³»ç»Ÿæ˜¯ä¸€ä¸ªä¸“ä¸ºä¼ä¸šå¹´ä¼šã€æ´»åŠ¨ç°åœºè®¾è®¡çš„äº’åŠ¨æŠ½å¥–å·¥å…·ã€‚ç³»ç»Ÿé‡‡ç”¨èµ›åšæœ‹å…‹é£æ ¼çš„è§†è§‰è®¾è®¡ï¼Œé…åˆæµç•…çš„åŠ¨ç”»æ•ˆæœï¼Œä¸ºæ´»åŠ¨ç°åœºè¥é€ ç§‘æŠ€æ„Ÿå’Œä»ªå¼æ„Ÿã€‚æ”¯æŒå®Œæ•´çš„å¥–å“ç®¡ç†ã€å‚ä¸è€…ç®¡ç†ã€æŠ½å¥–é€»è¾‘å’Œä¸­å¥–è®°å½•åŠŸèƒ½ï¼Œæ•°æ®æŒä¹…åŒ–åˆ°äº‘ç«¯æ•°æ®åº“ï¼Œç¡®ä¿æ•°æ®å®‰å…¨å¯é ã€‚

### âœ¨ æ ¸å¿ƒäº®ç‚¹

- ğŸ¨ **èµ›åšæœ‹å…‹é£æ ¼**ï¼šç‚«é…·çš„éœ“è™¹ç¯æ•ˆæœã€æµç•…çš„åŠ¨ç”»ã€ç§‘æŠ€æ„Ÿåè¶³çš„ç•Œé¢
- â±ï¸ **å€’è®¡æ—¶æŠ½å¥–**ï¼š10 ç§’å€’è®¡æ—¶è‡ªåŠ¨åœæ­¢ï¼Œå¢å¼ºç°åœºç´§å¼ æ°›å›´
- ğŸ”’ **å¯†ç å­¦å®‰å…¨**ï¼šä½¿ç”¨ Web Crypto API ç¡®ä¿éšæœºç®—æ³•çš„å…¬å¹³æ€§
- ğŸ“Š **æ•°æ®æŒä¹…åŒ–**ï¼šäº‘ç«¯æ•°æ®åº“å­˜å‚¨ï¼Œè·¨è®¾å¤‡è®¿é—®ï¼Œæ¸…é™¤ç¼“å­˜ä¸ä¸¢å¤±
- ğŸ“¦ **æ‰¹é‡å¯¼å…¥**ï¼šæ”¯æŒ CSV æ‰¹é‡å¯¼å…¥å¥–å“å’Œå‚ä¸è€…ï¼Œè‡ªåŠ¨å»é‡
- ğŸ–¼ï¸ **å›¾ç‰‡ä¸Šä¼ **ï¼šæ”¯æŒå¥–å“å›¾ç‰‡ä¸Šä¼ åˆ° S3/MinIO å¯¹è±¡å­˜å‚¨
- ğŸ“‹ **è·å¥–å…¬ç¤º**ï¼šå®æ—¶å±•ç¤ºæ‰€æœ‰ä¸­å¥–åå•ï¼Œæ”¯æŒæŒ‰å¥–é¡¹åˆ†ç»„æŸ¥çœ‹
- ğŸš€ **ä¸€é”®éƒ¨ç½²**ï¼šæä¾› Docker éƒ¨ç½²æ–¹æ¡ˆï¼Œ10 åˆ†é’Ÿå¿«é€Ÿä¸Šçº¿

---

## ğŸ¯ åŠŸèƒ½ç‰¹æ€§

### å¥–å“ç®¡ç†
- âœ… å¥–å“ CRUDï¼ˆåˆ›å»ºã€è¯»å–ã€æ›´æ–°ã€åˆ é™¤ï¼‰
- âœ… å¥–å“å›¾ç‰‡ä¸Šä¼ ï¼ˆæ”¯æŒ S3/MinIOï¼‰
- âœ… æ‰¹é‡å¯¼å…¥å¥–å“ï¼ˆæ–‡æœ¬/CSV æ ¼å¼ï¼‰
- âœ… è‡ªåŠ¨å»é‡ï¼ˆæŒ‰å¥–å“åç§°ï¼‰
- âœ… å¥–å“æ•°é‡ç®¡ç†ï¼ˆæ€»æ•°é‡ã€å‰©ä½™æ•°é‡ï¼‰
- âœ… é‡ç½®å¥–å“æ•°é‡

### å‚ä¸è€…ç®¡ç†
- âœ… å‚ä¸è€… CRUD
- âœ… æ‰¹é‡å¯¼å…¥å‚ä¸è€…ï¼ˆCSV æ–‡ä»¶ï¼‰
- âœ… è‡ªåŠ¨å»é‡ï¼ˆæŒ‰å§“åï¼‰
- âœ… æ¸…ç©ºæ‰€æœ‰å‚ä¸è€…

### æŠ½å¥–åŠŸèƒ½
- âœ… 10 ç§’å€’è®¡æ—¶è‡ªåŠ¨åœæ­¢
- âœ… æµç•…çš„æ»šåŠ¨åŠ¨ç”»æ•ˆæœ
- âœ… å¯†ç å­¦å®‰å…¨çš„éšæœºç®—æ³•
- âœ… åŠ¨ç”»ä¸ç»“æœå®Œå…¨ä¸€è‡´
- âœ… å®æ—¶æ˜¾ç¤ºå‰©ä½™æ•°é‡
- âœ… æ”¯æŒæŠ½å–å¤šä¸ªä¸­å¥–è€…

### ä¸­å¥–è®°å½•
- âœ… ä¸­å¥–è®°å½•æŒä¹…åŒ–å­˜å‚¨
- âœ… è·å¥–åå•å®æ—¶å…¬ç¤º
- âœ… æŒ‰å¥–é¡¹åˆ†ç»„å±•ç¤º
- âœ… æ¸…ç©ºæ‰€æœ‰ä¸­å¥–è®°å½•
- âœ… é‡æ–°æŠ½å¥–æ”¯æŒ

### ç•Œé¢ç‰¹æ€§
- âœ… èµ›åšæœ‹å…‹ä¸»é¢˜è®¾è®¡
- âœ… éœ“è™¹ç¯è¾¹æ¡†å’Œæ–‡å­—æ•ˆæœ
- âœ… æµç•…çš„ Framer Motion åŠ¨ç”»
- âœ… å“åº”å¼å¸ƒå±€ï¼ˆæ”¯æŒå„ç§å±å¹•å°ºå¯¸ï¼‰
- âœ… å¥–å“å›¾ç‰‡å¤§å›¾å±•ç¤º
- âœ… å€’è®¡æ—¶é»„è‰²éœ“è™¹ç¯æ˜¾ç¤º

---

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### å‰ç«¯æŠ€æœ¯
- **æ¡†æ¶**: React 19 + TypeScript
- **æ ·å¼**: Tailwind CSS 4ï¼ˆè‡ªå®šä¹‰èµ›åšæœ‹å…‹ä¸»é¢˜ï¼‰
- **åŠ¨ç”»**: Framer Motion
- **UI ç»„ä»¶**: Radix UI + shadcn/ui
- **API è°ƒç”¨**: tRPC Clientï¼ˆç±»å‹å®‰å…¨ï¼‰
- **æ„å»ºå·¥å…·**: Vite

### åç«¯æŠ€æœ¯
- **è¿è¡Œæ—¶**: Node.js 22
- **æ¡†æ¶**: Express 4
- **API**: tRPC 11ï¼ˆç«¯åˆ°ç«¯ç±»å‹å®‰å…¨ï¼‰
- **ORM**: Drizzle ORM
- **æ•°æ®åº“**: MySQL 8.0+ / PostgreSQL 14+
- **å­˜å‚¨**: AWS S3 / MinIOï¼ˆå¯¹è±¡å­˜å‚¨ï¼‰

### å¼€å‘å·¥å…·
- **åŒ…ç®¡ç†**: pnpm
- **æµ‹è¯•**: Vitest
- **ä»£ç è§„èŒƒ**: ESLint + Prettier
- **ç±»å‹æ£€æŸ¥**: TypeScript 5.9

### éƒ¨ç½²æ–¹æ¡ˆ
- **å®¹å™¨åŒ–**: Docker + Docker Compose
- **åå‘ä»£ç†**: Nginx
- **è¿›ç¨‹ç®¡ç†**: PM2ï¼ˆå¯é€‰ï¼‰

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚

- Node.js 22.x æˆ–ä»¥ä¸Š
- pnpm 9.x æˆ–ä»¥ä¸Š
- MySQL 8.0+ æˆ– PostgreSQL 14+ï¼ˆæˆ–ä½¿ç”¨ Dockerï¼‰

### æœ¬åœ°å¼€å‘

```bash
# 1. å…‹éš†ä»“åº“
git clone https://github.com/your-username/annual-lottery.git
cd annual-lottery

# 2. å®‰è£…ä¾èµ–
pnpm install

# 3. é…ç½®ç¯å¢ƒå˜é‡
cp .env.example .env
# ç¼–è¾‘ .env æ–‡ä»¶ï¼Œé…ç½®æ•°æ®åº“è¿æ¥å’Œ S3 å­˜å‚¨

# 4. åˆå§‹åŒ–æ•°æ®åº“
pnpm db:push

# 5. å¯åŠ¨å¼€å‘æœåŠ¡å™¨
pnpm dev

# 6. è®¿é—®åº”ç”¨
# æ‰“å¼€æµè§ˆå™¨è®¿é—® http://localhost:3000
```

### ç”Ÿäº§æ„å»º

```bash
# æ„å»ºåº”ç”¨
pnpm build

# å¯åŠ¨ç”Ÿäº§æœåŠ¡å™¨
NODE_ENV=production node dist/index.js
```

---

## ğŸ³ Docker éƒ¨ç½²

### å¿«é€Ÿéƒ¨ç½²ï¼ˆæ¨èï¼‰

ä½¿ç”¨ Docker Compose ä¸€é”®éƒ¨ç½²ï¼ŒåŒ…å«åº”ç”¨ã€MySQL å’Œ MinIOï¼š

```bash
# 1. å…‹éš†ä»“åº“
git clone https://github.com/your-username/annual-lottery.git
cd annual-lottery

# 2. é…ç½®ç¯å¢ƒå˜é‡ï¼ˆå¯é€‰ï¼Œä½¿ç”¨é»˜è®¤é…ç½®ï¼‰
# ç¼–è¾‘ docker-compose.yml ä¸­çš„ç¯å¢ƒå˜é‡

# 3. å¯åŠ¨æ‰€æœ‰æœåŠ¡
docker-compose up -d

# 4. æŸ¥çœ‹æ—¥å¿—
docker-compose logs -f

# 5. åˆå§‹åŒ–æ•°æ®åº“
docker-compose exec app pnpm db:push

# 6. è®¿é—®åº”ç”¨
# æ‰“å¼€æµè§ˆå™¨è®¿é—® http://localhost:3000
```

### æœåŠ¡ç®¡ç†

```bash
# åœæ­¢æœåŠ¡
docker-compose down

# é‡å¯æœåŠ¡
docker-compose restart

# æŸ¥çœ‹çŠ¶æ€
docker-compose ps

# æŸ¥çœ‹åº”ç”¨æ—¥å¿—
docker-compose logs -f app

# å¤‡ä»½æ•°æ®åº“
docker-compose exec mysql mysqldump -u lottery_user -p annual_lottery > backup.sql
```

---

## ğŸ“š éƒ¨ç½²æŒ‡å—

### ç¯å¢ƒå˜é‡é…ç½®

åˆ›å»º `.env` æ–‡ä»¶å¹¶é…ç½®ä»¥ä¸‹å¿…éœ€å˜é‡ï¼š

```bash
# æ•°æ®åº“è¿æ¥
DATABASE_URL=mysql://lottery_user:password@localhost:3306/annual_lottery

# JWT å¯†é’¥ï¼ˆä½¿ç”¨éšæœºå­—ç¬¦ä¸²ï¼Œæœ€å°‘ 32 å­—ç¬¦ï¼‰
JWT_SECRET=your-random-secret-key-min-32-chars

# S3 å­˜å‚¨é…ç½®
AWS_ACCESS_KEY_ID=your-access-key
AWS_SECRET_ACCESS_KEY=your-secret-key
AWS_REGION=us-east-1
AWS_S3_BUCKET=annual-lottery

# MinIO é…ç½®ï¼ˆå¦‚æœä½¿ç”¨ MinIOï¼‰
AWS_ENDPOINT=http://localhost:9000
```

### ç”Ÿæˆ JWT å¯†é’¥

```bash
# ä½¿ç”¨ Node.js ç”Ÿæˆ
node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"

# ä½¿ç”¨ OpenSSL ç”Ÿæˆ
openssl rand -hex 32
```

### æ•°æ®åº“åˆå§‹åŒ–

```bash
# æ–¹æ³•ä¸€ï¼šä½¿ç”¨ SQL è„šæœ¬
mysql -u root -p < init-database.sql

# æ–¹æ³•äºŒï¼šä½¿ç”¨ Drizzle ORM
pnpm db:push
```

### è¯¦ç»†éƒ¨ç½²æ–‡æ¡£

- **å®Œæ•´éƒ¨ç½²æŒ‡å—**: [DEPLOYMENT.md](./DEPLOYMENT.md)
- **å¿«é€Ÿéƒ¨ç½²æŒ‡å—**: [QUICK_START.md](./QUICK_START.md)
- **ç¯å¢ƒå˜é‡é…ç½®**: [ENV_CONFIG.md](./ENV_CONFIG.md)
- **éƒ¨ç½²èµ„æ–™åŒ…è¯´æ˜**: [DEPLOYMENT_PACKAGE.md](./DEPLOYMENT_PACKAGE.md)

---

## ğŸ“– æ–‡æ¡£

### ç”¨æˆ·æ–‡æ¡£
- [åŠŸèƒ½ä½¿ç”¨æŒ‡å—](./docs/USER_GUIDE.md)ï¼ˆå¾…æ·»åŠ ï¼‰
- [å¸¸è§é—®é¢˜ FAQ](./docs/FAQ.md)ï¼ˆå¾…æ·»åŠ ï¼‰

### å¼€å‘æ–‡æ¡£
- [é¡¹ç›®æ¶æ„](./docs/ARCHITECTURE.md)ï¼ˆå¾…æ·»åŠ ï¼‰
- [API æ–‡æ¡£](./docs/API.md)ï¼ˆå¾…æ·»åŠ ï¼‰
- [è´¡çŒ®æŒ‡å—](./CONTRIBUTING.md)ï¼ˆå¾…æ·»åŠ ï¼‰

### éƒ¨ç½²æ–‡æ¡£
- [å®Œæ•´éƒ¨ç½²æŒ‡å—](./DEPLOYMENT.md) âœ…
- [å¿«é€Ÿéƒ¨ç½²æŒ‡å—](./QUICK_START.md) âœ…
- [ç¯å¢ƒå˜é‡é…ç½®](./ENV_CONFIG.md) âœ…
- [éƒ¨ç½²èµ„æ–™åŒ…è¯´æ˜](./DEPLOYMENT_PACKAGE.md) âœ…

---

## ğŸ§ª æµ‹è¯•

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
pnpm test

# è¿è¡Œæµ‹è¯•å¹¶æŸ¥çœ‹è¦†ç›–ç‡
pnpm test:coverage

# è¿è¡Œæµ‹è¯•ï¼ˆç›‘å¬æ¨¡å¼ï¼‰
pnpm test:watch
```

å½“å‰æµ‹è¯•è¦†ç›–ï¼š
- âœ… 17 ä¸ªå•å…ƒæµ‹è¯•å…¨éƒ¨é€šè¿‡
- âœ… è¦†ç›–å¥–å“ç®¡ç†ã€å‚ä¸è€…ç®¡ç†ã€ä¸­å¥–è®°å½•ã€æ‰¹é‡å¯¼å…¥ã€å»é‡ç­‰æ ¸å¿ƒåŠŸèƒ½

---

## ğŸ“¦ é¡¹ç›®ç»“æ„

```
annual-lottery/
â”œâ”€â”€ client/                 # å‰ç«¯ä»£ç 
â”‚   â”œâ”€â”€ public/            # é™æ€èµ„æº
â”‚   â””â”€â”€ src/
â”‚       â”œâ”€â”€ components/    # UI ç»„ä»¶
â”‚       â”œâ”€â”€ pages/         # é¡µé¢ç»„ä»¶
â”‚       â”œâ”€â”€ hooks/         # è‡ªå®šä¹‰ Hooks
â”‚       â””â”€â”€ lib/           # å·¥å…·åº“
â”œâ”€â”€ server/                # åç«¯ä»£ç 
â”‚   â”œâ”€â”€ _core/            # æ ¸å¿ƒåŠŸèƒ½
â”‚   â”œâ”€â”€ routers.ts        # tRPC è·¯ç”±
â”‚   â”œâ”€â”€ db.ts             # æ•°æ®åº“æ“ä½œ
â”‚   â””â”€â”€ storage.ts        # å­˜å‚¨æ“ä½œ
â”œâ”€â”€ drizzle/              # æ•°æ®åº“ç›¸å…³
â”‚   â”œâ”€â”€ schema.ts         # è¡¨ç»“æ„å®šä¹‰
â”‚   â””â”€â”€ migrations/       # è¿ç§»æ–‡ä»¶
â”œâ”€â”€ shared/               # å‰åç«¯å…±äº«ä»£ç 
â”œâ”€â”€ docs/                 # æ–‡æ¡£ç›®å½•
â”œâ”€â”€ Dockerfile            # Docker é•œåƒé…ç½®
â”œâ”€â”€ docker-compose.yml    # Docker Compose é…ç½®
â”œâ”€â”€ nginx.conf            # Nginx é…ç½®
â”œâ”€â”€ init-database.sql     # æ•°æ®åº“åˆå§‹åŒ–è„šæœ¬
â””â”€â”€ README.md             # æœ¬æ–‡æ¡£
```

---

## ğŸ¨ æˆªå›¾é¢„è§ˆ

### æŠ½å¥–é¡µé¢
![æŠ½å¥–é¡µé¢](./docs/screenshots/lottery.png)

### è®¾ç½®é¡µé¢
![è®¾ç½®é¡µé¢](./docs/screenshots/settings.png)

### è·å¥–åå•
![è·å¥–åå•](./docs/screenshots/winners.png)

> æ³¨ï¼šæˆªå›¾å¾…æ·»åŠ 

---

## ğŸ”§ å¸¸è§é—®é¢˜

### 1. ç«¯å£è¢«å ç”¨

```bash
# æŸ¥æ‰¾å ç”¨ç«¯å£çš„è¿›ç¨‹
sudo lsof -i :3000

# ä¿®æ”¹ç«¯å£ï¼ˆç¼–è¾‘ .env æ–‡ä»¶ï¼‰
PORT=8080
```

### 2. æ•°æ®åº“è¿æ¥å¤±è´¥

- æ£€æŸ¥æ•°æ®åº“æœåŠ¡æ˜¯å¦å¯åŠ¨
- æ£€æŸ¥ `DATABASE_URL` é…ç½®æ˜¯å¦æ­£ç¡®
- æ£€æŸ¥æ•°æ®åº“ç”¨æˆ·æƒé™

### 3. å›¾ç‰‡ä¸Šä¼ å¤±è´¥

- æ£€æŸ¥ S3/MinIO é…ç½®æ˜¯å¦æ­£ç¡®
- æ£€æŸ¥å­˜å‚¨æ¡¶æ˜¯å¦å·²åˆ›å»º
- æ£€æŸ¥ç½‘ç»œè¿æ¥æ˜¯å¦æ­£å¸¸

### 4. Docker æ„å»ºå¤±è´¥

```bash
# æ¸…ç†ç¼“å­˜é‡æ–°æ„å»º
docker-compose down
docker-compose build --no-cache
docker-compose up -d
```

æ›´å¤šé—®é¢˜è¯·æŸ¥çœ‹ [å®Œæ•´éƒ¨ç½²æ–‡æ¡£](./DEPLOYMENT.md)ã€‚

---

## ğŸ¤ è´¡çŒ®

æ¬¢è¿è´¡çŒ®ä»£ç ã€æŠ¥å‘Šé—®é¢˜æˆ–æå‡ºå»ºè®®ï¼

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ Pull Request

---

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ã€‚è¯¦è§ [LICENSE](./LICENSE) æ–‡ä»¶ã€‚

---

## ğŸ™ è‡´è°¢

- [React](https://react.dev/) - å‰ç«¯æ¡†æ¶
- [Tailwind CSS](https://tailwindcss.com/) - CSS æ¡†æ¶
- [tRPC](https://trpc.io/) - ç±»å‹å®‰å…¨çš„ RPC æ¡†æ¶
- [Drizzle ORM](https://orm.drizzle.team/) - TypeScript ORM
- [Framer Motion](https://www.framer.com/motion/) - åŠ¨ç”»åº“
- [shadcn/ui](https://ui.shadcn.com/) - UI ç»„ä»¶åº“

---

## ğŸ“ è”ç³»æ–¹å¼

- **é—®é¢˜åé¦ˆ**: [GitHub Issues](https://github.com/your-username/annual-lottery/issues)
- **åŠŸèƒ½å»ºè®®**: [GitHub Discussions](https://github.com/your-username/annual-lottery/discussions)

---

<div align="center">

**å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸€ä¸ª â­ï¸ Starï¼**

Made with â¤ï¸ by [Your Name]

</div>
